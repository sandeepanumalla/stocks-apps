{"version":3,"sources":["APIs/stocks.js","components/Base.jsx","components/Home.jsx","components/Views.jsx","App.js","index.js"],"names":["getStocks","a","fetch","fetchData","json","saveStocks","Symbol","ticker","name","marketCapitalization","obj","symbol","companyName","console","log","method","headers","body","JSON","stringify","searchByName","data","Base","props","history","useHistory","useState","fangData","setFangData","useEffect","Url","forEach","item","push","process","Promise","all","map","request","dataPromise","fetchParams","className","onClick","style","background","Home","setData","savedStocks","setSavedStocks","current","setCurrent","currentPage","setCurrentPage","lastIndex","setLastIndex","firstIndex","setFirstIndex","searchTerm","setSearchTerm","searchResult","setSearchResult","searchSymbol","startingIndex","lastPostIndex","undefined","count","result","url","response","slice","array","mainData","length","urls","param","fetchStocks","fetchTheData","timer","setTimeout","clearTimeout","onChange","e","values","target","value","trim","onChangeHandler","placeholder","scope","some","save","onClickSave","disabled","Views","saved","setSaved","axios","get","then","fetchMe","_id","id","filter","App","exact","path","component","to","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f65d324d.chunk.js","sourcesContent":["export const getStocks = async () =>{\r\n  const fetchData = await fetch(`/getStocks`);\r\n  return fetchData.json()\r\n}\r\n\r\nexport const saveStocks = async (Symbol) =>{\r\n  const {ticker,name,marketCapitalization} = Symbol;\r\n \r\n  const obj = {symbol:ticker,companyName:name,marketCapitalization:marketCapitalization}\r\n  console.log(Symbol);\r\n  const fetchData = await fetch(`/saveStocks`,{\r\n    method: 'POST',\r\n    headers:{\r\n      'Accept': 'application/json',\r\n      'content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify(obj) \r\n  })\r\n  return fetchData.json()\r\n}\r\n\r\n\r\nexport const searchByName = async(name)=>{\r\n  console.log(name);\r\n  const data = await fetch(`https://finnhub.io/api/v1/search?q=${name}&token=c2191qqad3idupe6q9p0`)\r\n  return data.json();\r\n\r\n}\r\nexport const fetchStocks = async(param)=>{\r\n  const data = await fetch(`https://finnhub.io/api/v1/stock/profile2?symbol=${param.symbol}&token=${process.env.REACT_APP_TOKEN}`)\r\n  return data.json();\r\n}\r\n\r\n","\r\nimport React, { useEffect, useState } from 'react'\r\nimport './Base.css'\r\n\r\nimport { useHistory } from 'react-router';\r\n\r\n\r\nconst Base = (props) => {\r\n     \r\n   const history = useHistory();\r\n\r\n    const [fangData,setFangData] = useState();\r\n\r\n    useEffect(()=>{\r\n      const fetchParams = async ()=>{\r\n        \r\n       const fangSymbol=[\"googl\",\"fb\",\"amzn\"];\r\n       const Url = [];\r\n           fangSymbol.forEach(item =>{ \r\n              Url.push(`https://finnhub.io/api/v1/stock/profile2?symbol=${item}&token=${process.env.REACT_APP_TOKEN}`);\r\n           })\r\n           const dataPromise = await Promise.all(Url.map(async (item)=>{\r\n             const request = await fetch(item);\r\n             return request.json();\r\n           }))\r\n           setFangData(dataPromise);\r\n           \r\n      }\r\n\r\n      fetchParams();\r\n      \r\n       \r\n       \r\n       \r\n    },[])\r\n\r\n    const onClickHome =()=>{\r\n      return history.push(\"/home\")\r\n    }\r\n \r\n\r\n     return (\r\n        <div>\r\n        <div className='nav_container'>\r\n            <div onClick={()=>onClickHome()} className='big_title'>\r\n                <p className='title'>Quikie</p>\r\n                <p className='small_title'>Apps</p>\r\n            </div>\r\n            \r\n        </div> \r\n        <div>\r\n            <div className='card_container'>\r\n                         <div className=\"box\">\r\n                        <div className=\"upper_half\">\r\n                                 <p>GOOGL</p>\r\n                                 <div  className=\"google_image_container\"></div>\r\n\r\n                        </div>\r\n                        <div className=\"lower_half\">{\r\n                          fangData && fangData[0].marketCapitalization+\" USD\"\r\n                        }</div>\r\n                        </div>\r\n                        <div className=\"box\">\r\n                        <div className=\"upper_half\">\r\n                                 <p>FB</p>\r\n                                 <div  className=\"fb_image_container\"></div>\r\n                        </div>\r\n                        <div className=\"lower_half\">{\r\n                          fangData && fangData[1].marketCapitalization+\" USD\"\r\n                        }</div>\r\n                        </div>\r\n                        <div className=\"box\">\r\n                        <div style={{background:'url(../Assets/AMZN.svg)'}} className=\"upper_half\">\r\n                                 <p>AMZN</p>\r\n                                 <div className=\"amzn_image_container\"></div>\r\n                        </div>\r\n                        <div className=\"lower_half\">{\r\n                          fangData && fangData[2].marketCapitalization+\" USD\"\r\n                        }</div>\r\n                        </div>\r\n            </div>\r\n        </div>\r\n        \r\n        \r\n        \r\n        </div>\r\n \r\n        \r\n    )\r\n}\r\n\r\nexport default Base\r\n\r\n\r\n","import axios from 'axios';\r\n\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Redirect, useHistory } from 'react-router';\r\nimport  { getStocks, saveStocks, searchByName, fetchStocks } from '../APIs/stocks';\r\nimport { Input } from 'antd';\r\nimport ReactPaginate from 'react-paginate';\r\n\r\nimport Base from './Base'\r\nimport 'antd/dist/antd.min.css'\r\nimport Pagination from './Pagination';\r\n\r\n\r\nconst Home = () => {\r\n    const history = useHistory();\r\n    const [data, setData] = useState();\r\n    const [savedStocks, setSavedStocks] = useState();\r\n    const [current, setCurrent] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [lastIndex, setLastIndex] = useState();\r\n    const [firstIndex, setFirstIndex] = useState();\r\n    const [searchTerm, setSearchTerm] = useState();\r\n    const [searchResult, setSearchResult] = useState();\r\n    const csvfilepath = 'listing_status.csv';\r\n    \r\n    const fetchData =async (param) =>{\r\n      const data = await fetchStocks(param);\r\n      setData(data);\r\n    }\r\n\r\n    useEffect(()=>{\r\n\r\n      const fetchParams = async ()=>{\r\n        const searchSymbol=[];\r\n\r\n        const lastPostIndex = currentPage * 5;\r\n        const startingIndex = lastPostIndex - 5;\r\n        setLastIndex(lastPostIndex);\r\n        setFirstIndex(startingIndex); \r\n        if(searchTerm !== undefined && searchResult !== undefined){\r\n          \r\n          if(searchResult.count > 0){\r\n            \r\n            searchResult.result.map(item => searchSymbol.push(item.symbol));\r\n            console.log(searchSymbol);\r\n            const url = [];\r\n            searchSymbol.map(item => url.push(`https://finnhub.io/api/v1/stock/profile2?symbol=${item}&token=${process.env.REACT_APP_TOKEN}`));\r\n            console.log(\"url\",url);\r\n            \r\n            const dataPromise = await Promise.all(url.map(async function(item){\r\n              const response  = await fetch(item);\r\n              return response.json();\r\n            }))\r\n            console.log('dataPromise',dataPromise);\r\n            setData(dataPromise.slice(0,3));\r\n          }\r\n        }\r\n        else{\r\n          \r\n          const array = await fetch(`https://finnhub.io/api/v1/stock/symbol?exchange=US&mic=XNYS&token=${process.env.REACT_APP_TOKEN}`);\r\n          const response = await array.json();\r\n          let mainData = 0;\r\n          if(lastPostIndex !== undefined && startingIndex !== undefined && response !== undefined) {\r\n            console.log(\"running\",mainData)\r\n            if(response !== undefined && response.length >0){\r\n              mainData = await response.slice(startingIndex,lastPostIndex);\r\n            }\r\n             \r\n          } \r\n          console.log(mainData);\r\n           const urls = [];\r\n           \r\n           mainData.map(param => { urls.push(`https://finnhub.io/api/v1/stock/profile2?symbol=${param.symbol}&token=${process.env.REACT_APP_TOKEN}`)})\r\n  \r\n           console.log('urls',urls);\r\n  \r\n           const dataPromise = await Promise.all(urls.map(async function(url){\r\n           const response = await fetch(url);\r\n  \r\n           return response.json();\r\n         }))\r\n         setData(dataPromise);\r\n         console.log(\"this is promiseData\",dataPromise);\r\n        }\r\n        \r\n      }\r\n      console.log(fetchParams());\r\n\r\n      fetchParams();\r\n\r\n      const fetchStocks = async()=>{\r\n        const data = await getStocks();\r\n        return setSavedStocks(data);\r\n      }\r\n      fetchStocks(); \r\n\r\n    },[currentPage,searchResult])\r\n\r\n\r\n    useEffect(()=>{\r\n      const fetchTheData = async()=>{\r\n       const data = await searchByName(searchTerm);\r\n       console.log(\"fetchTheData\",data);\r\n       setSearchResult(data);\r\n       return data\r\n      }\r\n      const timer = setTimeout(()=>{\r\n        if(searchTerm !== undefined && searchTerm !== \"\"){\r\n          fetchTheData();\r\n        }\r\n       \r\n      },500)\r\n      return ()=>{\r\n        clearTimeout(timer);\r\n      }\r\n    },[searchTerm])\r\n\r\n\r\n    const onClickSave = (Symbol)=>{\r\n      const array = [];\r\n      if(current !== undefined){\r\n        console.log(\"running not undefined\");\r\n        current.map(item =>{ \r\n          array.push(item);\r\n        })\r\n      }\r\n      \r\n        const save = async()=>{\r\n          console.log(\"running save\")\r\n         try{ const data = await saveStocks(Symbol);\r\n          if(data == \"stocks data saved successfully\"){\r\n            array.push(Symbol.ticker);\r\n            return setCurrent(array)\r\n          }}\r\n          catch(err){\r\n            console.log(\"error in saving\", err)\r\n          }\r\n        }\r\n        return save();\r\n      }\r\n\r\n      const redirect = ()=>{\r\n        return history.push('/view')\r\n      }\r\n    \r\n      const increment= ()=>{\r\n        setCurrentPage(currentPage+1);\r\n      }\r\n\r\n      const decrement= ()=>{\r\n        if(currentPage > 0){\r\n          setCurrentPage(currentPage-1);\r\n        }\r\n      }\r\n\r\n      const onChangeHandler = (e)=>{\r\n        const values = e.target.value\r\n        setSearchTerm(values.trim());\r\n      }\r\n      \r\n\r\n    return (\r\n        <div className='parent'>\r\n            <Base />\r\n            <div  className=\"table_container\">\r\n            <div className=\"header\">\r\n            <div className=\"title_header\">\r\n            <p>Stocks Details Table</p>\r\n            </div>\r\n            <div className=\"search_container\">\r\n              <Input onChange={(e)=>onChangeHandler(e)} placeholder=\"Search by company name\" />\r\n            </div>\r\n            </div>\r\n\r\n             <table className=\"table\">\r\n             <thead>\r\n               <tr>\r\n                 <th scope=\"col\">COMPANY NAME</th>\r\n                 <th scope=\"col\">SYMBOL</th> \r\n                 <th scope=\"col\">MARKET CAP</th>\r\n                 <th scope=\"col\">Action </th>\r\n                 <th scope=\"col\">CURRENT PRICE</th>\r\n               </tr>\r\n             </thead>\r\n             <tbody>\r\n             {\r\n               data && data.map(data =>{\r\n                 const {ticker,name,marketCapitalization} = data;\r\n                 \r\n                 return <tr key={ticker}>\r\n                          <td>{data.name}</td>\r\n                          <td >\r\n                          <div className=\"symbol\">\r\n                          <ul >\r\n                           <li >{ticker}</li>\r\n                          </ul>\r\n                          </div>\r\n                          \r\n                         </td>\r\n                          <td>{data.marketCapitalization}</td>\r\n                          <td>{\r\n                            \r\n                             savedStocks  &&  savedStocks.some(item => item.symbol === ticker) || current && current.some(item => item == ticker) ?\r\n                            <button className=\"btn btn-primary view\" onClick={()=>redirect()}>View</button> : \r\n                            <button className=\"btn btn-primary save\" onClick={()=>onClickSave({ticker,name,marketCapitalization})}>Save</button>\r\n                          }</td>\r\n                          <td>{data.marketCapitalization}</td>\r\n                        </tr>\r\n               })\r\n            }  \r\n             </tbody>\r\n           </table>\r\n\r\n           <div className=\"pagination\">\r\n           <p>{`${firstIndex+1} - ${lastIndex}`}</p>\r\n           <div className=\"paginate_btn\">\r\n           <button onClick={()=>decrement()} disabled={currentPage == \"1\" ? true : false}>{`<`}  </button>\r\n           <button onClick={()=>increment()} > {`>`} </button>\r\n           </div>\r\n          \r\n           </div>\r\n            \r\n             </div>\r\n             <div className=\"bottom\"></div>\r\n        </div> \r\n    )\r\n}\r\n\r\nexport default Home\r\n ","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport Base from './Base'\r\n\r\n\r\nconst Views = () => {\r\n  const [saved,setSaved] = useState();\r\n  const [data,setData] = useState();\r\n  \r\n\r\n  useEffect(() => {\r\n    axios.get(`/getStocks`)\r\n      .then(response => {\r\n        setSaved(response.data);\r\n      })\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    if(saved !== undefined){\r\n      \r\n      const fetchMe = async ()=>{\r\n        const url = [];\r\n        saved.map(item =>{ \r\n          console.log(\"symbol\",item)\r\n          url.push(`https://finnhub.io/api/v1/stock/profile2?symbol=${item.symbol}&token=${process.env.REACT_APP_TOKEN}`)\r\n        })\r\n        console.log(\"running\",url);\r\n        const dataPromise = await Promise.all(url.map(async (item)=>{\r\n          const response = await fetch(item);\r\n          return response.json();\r\n        }))\r\n        console.log(\"dataPromse\",dataPromise);\r\n        setData(dataPromise);\r\n      }\r\n      fetchMe();\r\n \r\n    }\r\n  },[saved])\r\n\r\n\r\n  const onClickDelete = (id)=>{\r\n    console.log(\"clicked\",id);\r\n    return fetch(`/delete/${id}`,{\r\n      method:'POST',\r\n      headers:{\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json',\r\n\r\n      }\r\n    })\r\n    .then(data => {\r\n      const filter = saved.filter(data => data._id != id);\r\n      console.log(\"filter\",filter,)\r\n       setSaved(filter);\r\n      })\r\n\r\n  }\r\n\r\n    return (\r\n        <div>\r\n            <Base />\r\n            <div className=\"table_container\">\r\n             <table className=\"table\">\r\n             <thead>\r\n               <tr>\r\n                 <th scope=\"col\">COMPANY NAME</th>\r\n                 <th scope=\"col\">SYMBOL</th> \r\n                 <th scope=\"col\">MARKET CAP</th>\r\n                 <th scope=\"col\">Action </th>\r\n                 <th scope=\"col\">CURRENT PRICE</th>\r\n               </tr>\r\n             </thead>\r\n             <tbody>\r\n             \r\n              { \r\n                \r\n                /* saved !=undefined && saved!=null && typeof saved ===\"object\" && saved.data != undefined && saved.data != null && */\r\n               saved && saved.map(item=>{\r\n                  const {_id} = item;\r\n                  return  <tr key={item._id}>\r\n                   \r\n                        <td>{item.companyName}</td>\r\n                        <td>{item.symbol}</td>\r\n                        <td>{item.marketCapitalization}</td>\r\n                        <td><button className=\"btn btn-primary view\" onClick={()=>onClickDelete(_id)}>Delete</button></td>\r\n                        <td>{item.marketCapitalization}</td>\r\n                  </tr>\r\n                })\r\n               \r\n               \r\n              }\r\n               \r\n             </tbody>\r\n           </table>\r\n       \r\n             </div>\r\n             <div className=\"bottom\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Views\r\n","\r\nimport './App.css';\r\n\r\nimport Home from './components/Home';\r\nimport {BrowserRouter as Router, Redirect, Route,Switch, useHistory} from 'react-router-dom'\r\nimport Views from './components/Views';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n      <Switch>\r\n        <Route exact path=\"/home\" component={Home}></Route>\r\n        <Route exact path=\"/view\" component={Views}></Route>\r\n        <Redirect to=\"/home\" />\r\n        </Switch>\r\n      </Router>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}