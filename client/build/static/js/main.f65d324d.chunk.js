(this["webpackJsonpapp-stock-market"]=this["webpackJsonpapp-stock-market"]||[]).push([[0],{70:function(e,t,n){},71:function(e,t,n){},92:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(31),s=n.n(a),i=(n(70),n(71),n(5)),o=n.n(i),u=n(10),l=n(15),j=n(39),b=n.n(j),p=n(8),d=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/getStocks");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ticker,c=t.name,r=t.marketCapitalization,a={symbol:n,companyName:c,marketCapitalization:r},console.log(t),e.next=5,fetch("/saveStocks",{method:"POST",headers:{Accept:"application/json","content-type":"application/json"},body:JSON.stringify(a)});case 5:return s=e.sent,e.abrupt("return",s.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("https://finnhub.io/api/v1/search?q=".concat(t,"&token=c2191qqad3idupe6q9p0"));case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=n(102),m=(n(91),n(92),n(1)),x=function(e){var t=Object(p.g)(),n=Object(c.useState)(),r=Object(l.a)(n,2),a=r[0],s=r[1];Object(c.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],["googl","fb","amzn"].forEach((function(e){t.push("https://finnhub.io/api/v1/stock/profile2?symbol=".concat(e,"&token=").concat("c2191qqad3idupe6q9p0"))})),e.next=5,Promise.all(t.map(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:n=e.sent,s(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"nav_container",children:Object(m.jsxs)("div",{onClick:function(){return t.push("/home")},className:"big_title",children:[Object(m.jsx)("p",{className:"title",children:"Quikie"}),Object(m.jsx)("p",{className:"small_title",children:"Apps"})]})}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"card_container",children:[Object(m.jsxs)("div",{className:"box",children:[Object(m.jsxs)("div",{className:"upper_half",children:[Object(m.jsx)("p",{children:"GOOGL"}),Object(m.jsx)("div",{className:"google_image_container"})]}),Object(m.jsx)("div",{className:"lower_half",children:a&&a[0].marketCapitalization+" USD"})]}),Object(m.jsxs)("div",{className:"box",children:[Object(m.jsxs)("div",{className:"upper_half",children:[Object(m.jsx)("p",{children:"FB"}),Object(m.jsx)("div",{className:"fb_image_container"})]}),Object(m.jsx)("div",{className:"lower_half",children:a&&a[1].marketCapitalization+" USD"})]}),Object(m.jsxs)("div",{className:"box",children:[Object(m.jsxs)("div",{style:{background:"url(../Assets/AMZN.svg)"},className:"upper_half",children:[Object(m.jsx)("p",{children:"AMZN"}),Object(m.jsx)("div",{className:"amzn_image_container"})]}),Object(m.jsx)("div",{className:"lower_half",children:a&&a[2].marketCapitalization+" USD"})]})]})})]})},v=(n(98),function(){var e=Object(p.g)(),t=Object(c.useState)(),n=Object(l.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(),i=Object(l.a)(s,2),j=i[0],b=i[1],v=Object(c.useState)([]),k=Object(l.a)(v,2),g=k[0],N=k[1],y=Object(c.useState)(1),w=Object(l.a)(y,2),S=w[0],C=w[1],_=Object(c.useState)(),q=Object(l.a)(_,2),A=q[0],E=q[1],P=Object(c.useState)(),z=Object(l.a)(P,2),M=z[0],T=z[1],R=Object(c.useState)(),D=Object(l.a)(R,2),U=D[0],Y=D[1],B=Object(c.useState)(),I=Object(l.a)(B,2),J=I[0],L=I[1];Object(c.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c,r,s,i,l,j,b,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],c=(n=5*S)-5,E(n),T(c),void 0===U||void 0===J){e.next=19;break}if(!(J.count>0)){e.next=17;break}return J.result.map((function(e){return t.push(e.symbol)})),console.log(t),r=[],t.map((function(e){return r.push("https://finnhub.io/api/v1/stock/profile2?symbol=".concat(e,"&token=").concat("c2191qqad3idupe6q9p0"))})),console.log("url",r),e.next=14,Promise.all(r.map(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:s=e.sent,console.log("dataPromise",s),a(s.slice(0,3));case 17:e.next=41;break;case 19:return e.next=21,fetch("https://finnhub.io/api/v1/stock/symbol?exchange=US&mic=XNYS&token=".concat("c2191qqad3idupe6q9p0"));case 21:return i=e.sent,e.next=24,i.json();case 24:if(l=e.sent,j=0,void 0===n||void 0===c||void 0===l){e.next=32;break}if(console.log("running",j),!(void 0!==l&&l.length>0)){e.next=32;break}return e.next=31,l.slice(c,n);case 31:j=e.sent;case 32:return console.log(j),b=[],j.map((function(e){b.push("https://finnhub.io/api/v1/stock/profile2?symbol=".concat(e.symbol,"&token=").concat("c2191qqad3idupe6q9p0"))})),console.log("urls",b),e.next=38,Promise.all(b.map(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 38:p=e.sent,a(p),console.log("this is promiseData",p);case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(e()),e(),function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return t=e.sent,e.abrupt("return",b(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[S,J]),Object(c.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(U);case 2:return t=e.sent,console.log("fetchTheData",t),L(t),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=setTimeout((function(){void 0!==U&&""!==U&&e()}),500);return function(){clearTimeout(t)}}),[U]);return Object(m.jsxs)("div",{className:"parent",children:[Object(m.jsx)(x,{}),Object(m.jsxs)("div",{className:"table_container",children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("div",{className:"title_header",children:Object(m.jsx)("p",{children:"Stocks Details Table"})}),Object(m.jsx)("div",{className:"search_container",children:Object(m.jsx)(O.a,{onChange:function(e){return function(e){var t=e.target.value;Y(t.trim())}(e)},placeholder:"Search by company name"})})]}),Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"COMPANY NAME"}),Object(m.jsx)("th",{scope:"col",children:"SYMBOL"}),Object(m.jsx)("th",{scope:"col",children:"MARKET CAP"}),Object(m.jsx)("th",{scope:"col",children:"Action "}),Object(m.jsx)("th",{scope:"col",children:"CURRENT PRICE"})]})}),Object(m.jsx)("tbody",{children:r&&r.map((function(t){var n=t.ticker,c=t.name,r=t.marketCapitalization;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t.name}),Object(m.jsx)("td",{children:Object(m.jsx)("div",{className:"symbol",children:Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:n})})})}),Object(m.jsx)("td",{children:t.marketCapitalization}),Object(m.jsx)("td",{children:j&&j.some((function(e){return e.symbol===n}))||g&&g.some((function(e){return e==n}))?Object(m.jsx)("button",{className:"btn btn-primary view",onClick:function(){return e.push("/view")},children:"View"}):Object(m.jsx)("button",{className:"btn btn-primary save",onClick:function(){return function(e){var t=[];return void 0!==g&&(console.log("running not undefined"),g.map((function(e){t.push(e)}))),function(){var n=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("running save"),n.prev=1,n.next=4,h(e);case 4:if("stocks data saved successfully"!=n.sent){n.next=8;break}return t.push(e.ticker),n.abrupt("return",N(t));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log("error in saving",n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(){return n.apply(this,arguments)}}()()}({ticker:n,name:c,marketCapitalization:r})},children:"Save"})}),Object(m.jsx)("td",{children:t.marketCapitalization})]},n)}))})]}),Object(m.jsxs)("div",{className:"pagination",children:[Object(m.jsx)("p",{children:"".concat(M+1," - ").concat(A)}),Object(m.jsxs)("div",{className:"paginate_btn",children:[Object(m.jsxs)("button",{onClick:function(){S>0&&C(S-1)},disabled:"1"==S,children:["<","  "]}),Object(m.jsxs)("button",{onClick:function(){C(S+1)},children:[" ",">"," "]})]})]})]}),Object(m.jsx)("div",{className:"bottom"})]})}),k=n(63),g=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),s=Object(l.a)(a,2),i=(s[0],s[1]);Object(c.useEffect)((function(){b.a.get("/getStocks").then((function(e){r(e.data)}))}),[]),Object(c.useEffect)((function(){void 0!==n&&function(){var e=Object(u.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n.map((function(e){console.log("symbol",e),t.push("https://finnhub.io/api/v1/stock/profile2?symbol=".concat(e.symbol,"&token=").concat("c2191qqad3idupe6q9p0"))})),console.log("running",t),e.next=5,Promise.all(t.map(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:c=e.sent,console.log("dataPromse",c),i(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]);return Object(m.jsxs)("div",{children:[Object(m.jsx)(x,{}),Object(m.jsx)("div",{className:"table_container",children:Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"COMPANY NAME"}),Object(m.jsx)("th",{scope:"col",children:"SYMBOL"}),Object(m.jsx)("th",{scope:"col",children:"MARKET CAP"}),Object(m.jsx)("th",{scope:"col",children:"Action "}),Object(m.jsx)("th",{scope:"col",children:"CURRENT PRICE"})]})}),Object(m.jsx)("tbody",{children:n&&n.map((function(e){var t=e._id;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.companyName}),Object(m.jsx)("td",{children:e.symbol}),Object(m.jsx)("td",{children:e.marketCapitalization}),Object(m.jsx)("td",{children:Object(m.jsx)("button",{className:"btn btn-primary view",onClick:function(){return e=t,console.log("clicked",e),fetch("/delete/".concat(e),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){var c=n.filter((function(t){return t._id!=e}));console.log("filter",c),r(c)}));var e},children:"Delete"})}),Object(m.jsx)("td",{children:e.marketCapitalization})]},e._id)}))})]})}),Object(m.jsx)("div",{className:"bottom"})]})};n(52);var N=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(k.a,{children:Object(m.jsxs)(p.d,{children:[Object(m.jsx)(p.b,{exact:!0,path:"/home",component:v}),Object(m.jsx)(p.b,{exact:!0,path:"/view",component:g}),Object(m.jsx)(p.a,{to:"/home"})]})})})};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.f65d324d.chunk.js.map